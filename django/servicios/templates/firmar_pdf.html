{% extends 'base_app.html' %}
{% load static %}
{% block title %}
  Firmar PDF
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'bootstrap-5-3-2/css/bootstrap.min.css' %}" />
  <link rel="stylesheet" href="{% static 'css/servicios.css' %}" />
  <link rel="stylesheet" href="{% static 'css/preloaders.css' %}" />
  <link rel="stylesheet" href="{% static 'css/firmar_stepper.css' %}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.7.570/pdf_viewer.min.css" />
  <style>
    #container {
      position: relative;
      width: 100%;
      height: 800px;
      border: 1px solid #c7c7c7;
      overflow: auto; /* AÃ±adido para permitir desplazamiento */
    }
    
    #pdfContainer,
    #imageContainer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
    }
    
    #imageContainer img {
      width: 200px;
      height: 100px;
      position: absolute;
      top: 0;
      left: 0;
      pointer-events: auto;
      cursor: move;
    }
    
    .pdf-canvas {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
    }
  </style>
{% endblock %}

{% block main %}
  <div class="contenedor-servicios" style="margin-top: 70px;padding: 20px 20px !important;">
    <div class="container">
      <h1>Proceso de firmar un PDF</h1>

      <div class="row">
        <div class="col-xl-6 col-md-6 col-sm-12">
          <input class="form-control" type="file" id="pdfInput" accept=".pdf" />
        </div>
        <div class="col-xl-6 col-md-6 col-sm-12">
          <input class="form-control" type="file" id="imageInput" accept="image/*" />
        </div>
      </div>
    
    </hr>
  
      <div id="container" style="margin-top:10px ;">
        <div id="pdfContainer"></div>
  
        <div id="imageContainer">
          <img src="" alt="Firma" id="signatureImage" class="draggable" />
        </div>
      </div>
    </div>
    </div>
    
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/interact.min.js' %}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.7.570/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.7.570/pdf.worker.min.js"></script>
  <script src="{% static 'js/script_pruebas.js' %}"></script>
{% endblock %}
